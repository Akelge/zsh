usage() {
  echo "x509 <certfile>"
  echo "x509 -r <hostname:port>"
  exit 0
}

[ $# -eq 0 ] && usage

remote=0

while getopts ":hr:" arg; do
  case $arg in
    r)
      remote=1
      host=$OPTARG
      ;;
    h) usage
      ;;
  esac
done

[ $remote -eq 0 ] && openssl x509 -in $* -noout -text
[ $remote -eq 1 ] && openssl s_client -connect $host < /dev/null | openssl x509 -noout -text
